<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><meta name="theme-color" content="#222" media="(prefers-color-scheme: light)"><meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 6.3.0"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.ico"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.ico"><link rel="mask-icon" href="/images/logo.svg" color="#222"><meta name="google-site-verification" content="NZyNYgg0OZlLutc4Uc4x8bhzcMc0CPLY1GAcjRfqHoA"><meta name="baidu-site-verification" content="N4cDkjIYCT"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css" integrity="sha256-AbA177XfpSnFEvgpYu1jMygiLabzPCJCRIBtR5jGc0k=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous"><script class="next-config" data-name="main" type="application/json">{"hostname":"yingming006.cn","root":"/","images":"/images","scheme":"Gemini","darkmode":true,"version":"8.13.1","exturl":true,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":true,"style":null},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":true,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":true,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script><meta name="description" content="必读文档 Hexo 官方文档 NexT 官方文档"><meta property="og:type" content="article"><meta property="og:title" content="基于 Hexo + GitHub Pages 搭建个人博客"><meta property="og:url" content="https://yingming006.cn/build-a-personal-blog-based-on-hexo-and-github-pages/index.html"><meta property="og:site_name" content="Yingming&#39;s Blog"><meta property="og:description" content="必读文档 Hexo 官方文档 NexT 官方文档"><meta property="og:locale" content="zh_CN"><meta property="article:published_time" content="2020-03-31T16:31:13.000Z"><meta property="article:modified_time" content="2021-01-20T16:20:13.000Z"><meta property="article:author" content="Yingming"><meta property="article:tag" content="Hexo"><meta name="twitter:card" content="summary"><link rel="canonical" href="https://yingming006.cn/build-a-personal-blog-based-on-hexo-and-github-pages/"><script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://yingming006.cn/build-a-personal-blog-based-on-hexo-and-github-pages/","path":"build-a-personal-blog-based-on-hexo-and-github-pages/","title":"基于 Hexo + GitHub Pages 搭建个人博客"}</script><script class="next-config" data-name="calendar" type="application/json">""</script><title>基于 Hexo + GitHub Pages 搭建个人博客 | Yingming's Blog</title><script async src="https://www.googletagmanager.com/gtag/js?id=UA-165634759-1"></script><script class="next-config" data-name="google_analytics" type="application/json">{"tracking_id":"UA-165634759-1","only_pageview":false}</script><script src="/js/third-party/analytics/google-analytics.js"></script><script src="/js/third-party/analytics/baidu-analytics.js"></script><script async src="https://hm.baidu.com/hm.js?54a65ae5a63d93b2ac4dfd138179feec"></script><link rel="dns-prefetch" href="https://waline.yingming006.cn"><script data-ad-client="ca-pub-2192765471104571" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><noscript><link rel="stylesheet" href="/css/noscript.css"></noscript><link rel="alternate" href="/atom.xml" title="Yingming's Blog" type="application/atom+xml"></head><body itemscope itemtype="http://schema.org/WebPage" class="use-motion"><div class="headband"></div><main class="main"><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏" role="button"><span class="toggle-line"></span> <span class="toggle-line"></span> <span class="toggle-line"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><i class="logo-line"></i><p class="site-title">Yingming's Blog</p><i class="logo-line"></i></a><p class="site-subtitle" itemprop="description">积跬步，至千里</p></div><div class="site-nav-right"><div class="toggle popup-trigger"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section">首页</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section">标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section">分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section">归档</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger">搜索</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"><input autocomplete="off" autocapitalize="off" maxlength="80" placeholder="搜索..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close" role="button"><i class="fa fa-times-circle"></i></span></div><div class="search-result-container no-result"><div class="search-result-icon"><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></div><div class="toggle sidebar-toggle" role="button"><span class="toggle-line"></span> <span class="toggle-line"></span> <span class="toggle-line"></span></div><aside class="sidebar"><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class="sidebar-nav"><li class="sidebar-nav-toc">文章目录</li><li class="sidebar-nav-overview">站点概览</li></ul><div class="sidebar-panel-container"><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%BF%85%E8%AF%BB%E6%96%87%E6%A1%A3"><span class="nav-number">1.</span> <span class="nav-text">必读文档</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9C%AC%E5%9C%B0%E7%8E%AF%E5%A2%83%E5%87%86%E5%A4%87"><span class="nav-number">2.</span> <span class="nav-text">本地环境准备</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%89%E8%A3%85-Node-js"><span class="nav-number">2.1.</span> <span class="nav-text">安装 Node.js</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%89%E8%A3%85-Hexo"><span class="nav-number">2.2.</span> <span class="nav-text">安装 Hexo</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BB%BA%E7%AB%99"><span class="nav-number">2.3.</span> <span class="nav-text">建站</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8-NexT-%E4%B8%BB%E9%A2%98"><span class="nav-number">3.</span> <span class="nav-text">使用 NexT 主题</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%89%E8%A3%85-NexT-%E4%B8%BB%E9%A2%98"><span class="nav-number">3.1.</span> <span class="nav-text">安装 NexT 主题</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8-NexT-%E4%B8%BB%E9%A2%98-1"><span class="nav-number">3.2.</span> <span class="nav-text">使用 NexT 主题</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%A3%E6%9B%BF%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6-Alternate-Config-%E9%85%8D%E7%BD%AE-Hexo-%E4%B8%BB%E9%A2%98"><span class="nav-number">3.3.</span> <span class="nav-text">代替配置文件(Alternate Config) 配置 Hexo 主题</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%96%B0%E5%BB%BA-config-theme-yml-%E6%96%87%E4%BB%B6"><span class="nav-number">3.3.1.</span> <span class="nav-text">新建 _config.[theme].yml 文件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%8B%B7%E8%B4%9D-NexT-%E9%85%8D%E7%BD%AE"><span class="nav-number">3.3.2.</span> <span class="nav-text">拷贝 NexT 配置</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%83%A8%E7%BD%B2"><span class="nav-number">4.</span> <span class="nav-text">部署</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%83%A8%E7%BD%B2%E5%88%B0-GitHub-Pages"><span class="nav-number">4.1.</span> <span class="nav-text">部署到 GitHub Pages</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%89%E8%A3%85-hexo-deployer-git"><span class="nav-number">4.1.1.</span> <span class="nav-text">安装 hexo-deployer-git</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%85%8D%E7%BD%AE-config-yml"><span class="nav-number">4.1.2.</span> <span class="nav-text">配置 _config.yml</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8F%91%E5%B8%83"><span class="nav-number">4.1.3.</span> <span class="nav-text">发布</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%83%A8%E7%BD%B2%E5%88%B0%E4%B8%AA%E4%BA%BA%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="nav-number">4.2.</span> <span class="nav-text">部署到个人服务器</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%85%8D%E7%BD%AE-Nginx"><span class="nav-number">4.2.1.</span> <span class="nav-text">配置 Nginx</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%85%8D%E7%BD%AE-Git"><span class="nav-number">4.2.2.</span> <span class="nav-text">配置 Git</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#NexT-%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE"><span class="nav-number">5.</span> <span class="nav-text">NexT 主题配置</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BE%A7%E8%BE%B9%E6%A0%8F-Sidebar"><span class="nav-number">5.1.</span> <span class="nav-text">侧边栏 Sidebar</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%A4%B4%E5%83%8F-Avatar"><span class="nav-number">5.1.1.</span> <span class="nav-text">头像 Avatar</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%A4%BE%E4%BA%A4%E9%93%BE%E6%8E%A5"><span class="nav-number">5.1.2.</span> <span class="nav-text">社交链接</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8F%8B%E6%83%85%E9%93%BE%E6%8E%A5-Blogrolls"><span class="nav-number">5.1.3.</span> <span class="nav-text">友情链接 Blogrolls</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%A4%A7%E7%BA%B2%E7%9B%AE%E5%BD%95-TOC"><span class="nav-number">5.1.4.</span> <span class="nav-text">大纲目录 TOC</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%87%E7%AB%A0-Posts"><span class="nav-number">5.2.</span> <span class="nav-text">文章 Posts</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%84%E8%A7%88-Preamble-Text"><span class="nav-number">5.2.1.</span> <span class="nav-text">预览 Preamble Text</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%96%87%E7%AB%A0%E6%98%BE%E7%A4%BA%E6%A0%87%E8%AE%B0-Post-Meta-Display"><span class="nav-number">5.2.2.</span> <span class="nav-text">文章显示标记 Post Meta Display</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%96%87%E7%AB%A0%E5%AD%97%E6%95%B0%E7%BB%9F%E8%AE%A1-Post-Wordcount"><span class="nav-number">5.2.3.</span> <span class="nav-text">文章字数统计 Post Wordcount</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%9B%B8%E5%85%B3%E7%83%AD%E9%97%A8%E6%96%87%E7%AB%A0-Related-Popular-Posts"><span class="nav-number">5.2.4.</span> <span class="nav-text">相关热门文章 Related Popular Posts</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9C%A8%E7%BA%BF%E7%BC%96%E8%BE%91-Post-Edit"><span class="nav-number">5.2.5.</span> <span class="nav-text">在线编辑 Post Edit</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E9%A1%B5%E9%9D%A2-Custom-Pages"><span class="nav-number">5.3.</span> <span class="nav-text">自定义页面 Custom Pages</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA-%E6%A0%87%E7%AD%BE"><span class="nav-number">5.3.1.</span> <span class="nav-text">创建 标签</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%85%AC%E7%9B%8A-404-%E9%A1%B5%E9%9D%A2"><span class="nav-number">5.3.2.</span> <span class="nav-text">公益 404 页面</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SEO"><span class="nav-number">5.4.</span> <span class="nav-text">SEO</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%B0%B7%E6%AD%8C%E6%94%B6%E5%BD%95"><span class="nav-number">5.4.1.</span> <span class="nav-text">谷歌收录</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#1-%E6%B7%BB%E5%8A%A0%E8%B5%84%E6%BA%90"><span class="nav-number">5.4.1.1.</span> <span class="nav-text">1. 添加资源</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2-%E6%8F%90%E4%BA%A4-sitemap-xml"><span class="nav-number">5.4.1.2.</span> <span class="nav-text">2.提交 sitemap.xml</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%99%BE%E5%BA%A6%E6%94%B6%E5%BD%95"><span class="nav-number">5.4.2.</span> <span class="nav-text">百度收录</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#1-%E6%B7%BB%E5%8A%A0%E8%B5%84%E6%BA%90-1"><span class="nav-number">5.4.2.1.</span> <span class="nav-text">1. 添加资源</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2-%E6%8F%90%E4%BA%A4-sitemap-xml-1"><span class="nav-number">5.4.2.2.</span> <span class="nav-text">2.提交 sitemap.xml</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Other-Webmaster"><span class="nav-number">5.5.</span> <span class="nav-text">Other Webmaster</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AC%AC%E4%B8%89%E6%96%B9%E6%9C%8D%E5%8A%A1"><span class="nav-number">6.</span> <span class="nav-text">第三方服务</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F"><span class="nav-number">6.1.</span> <span class="nav-text">评论系统</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#waline"><span class="nav-number">6.1.1.</span> <span class="nav-text">waline</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%AE%89%E8%A3%85"><span class="nav-number">6.1.1.1.</span> <span class="nav-text">安装</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E9%85%8D%E7%BD%AE"><span class="nav-number">6.1.1.2.</span> <span class="nav-text">配置</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BB%9F%E8%AE%A1%E4%B8%8E%E5%88%86%E6%9E%90"><span class="nav-number">6.2.</span> <span class="nav-text">统计与分析</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9C%AC%E5%9C%B0%E6%90%9C%E7%B4%A2"><span class="nav-number">6.3.</span> <span class="nav-text">本地搜索</span></a></li></ol></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" alt="Yingming" src="/images/avatar.webp"><p class="site-author-name" itemprop="name">Yingming</p><div class="site-description" itemprop="description">You will never know unless you try.</div></div><div class="site-state-wrap site-overview-item animated"><nav class="site-state"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">42</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/"><span class="site-state-item-count">2</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/"><span class="site-state-item-count">19</span> <span class="site-state-item-name">标签</span></a></div></nav></div><div class="links-of-author site-overview-item animated"><span class="links-of-author-item"><span class="exturl" data-url="aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L01TaG93MDA2" title="CSDN → https:&#x2F;&#x2F;blog.csdn.net&#x2F;MShow006"><i class="fa fa-fire fa-fw"></i>CSDN</span> </span><span class="links-of-author-item"><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3lpbmdtaW5nMDA2" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;yingming006"><i class="fab fa-github fa-fw"></i>GitHub</span> </span><span class="links-of-author-item"><span class="exturl" data-url="bWFpbHRvOnlpbmdtaW5nMDA2QGZveG1haWwuY29t" title="E-Mail → mailto:yingming006@foxmail.com"><i class="fa fa-envelope fa-fw"></i>E-Mail</span> </span><span class="links-of-author-item"><a href="/atom.xml" title="RSS → &#x2F;atom.xml"><i class="fa fa-rss fa-fw"></i>RSS</a></span></div></div></div></div></aside><div class="sidebar-dimmer"></div></header><div class="back-to-top" role="button" aria-label="返回顶部"><i class="fa fa-arrow-up"></i> <span>0%</span></div><noscript><div class="noscript-warning">Theme NexT works best with JavaScript enabled</div></noscript><div class="main-inner post posts-expand"><div class="post-block"><article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://yingming006.cn/build-a-personal-blog-based-on-hexo-and-github-pages/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.webp"><meta itemprop="name" content="Yingming"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Yingming's Blog"><meta itemprop="description" content="You will never know unless you try."></span><span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork"><meta itemprop="name" content="基于 Hexo + GitHub Pages 搭建个人博客 | Yingming's Blog"><meta itemprop="description" content=""></span><header class="post-header"><h1 class="post-title" itemprop="name headline">基于 Hexo + GitHub Pages 搭建个人博客<span class="exturl post-edit-link" data-url="aHR0cHM6Ly9naXRodWIuY29tL3lpbmdtaW5nMDA2L2hleG8tYmxvZy9lZGl0L21hc3Rlci9zb3VyY2UvX3Bvc3RzL2J1aWxkLWEtcGVyc29uYWwtYmxvZy1iYXNlZC1vbi1oZXhvLWFuZC1naXRodWItcGFnZXMubWQ=" title="编辑"><i class="fa fa-pen-nib"></i></span></h1><div class="post-meta-container"><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2020-04-01 00:31:13" itemprop="dateCreated datePublished" datetime="2020-04-01T00:31:13+08:00">2020-04-01</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2021-01-21 00:20:13" itemprop="dateModified" datetime="2021-01-21T00:20:13+08:00">2021-01-21</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/tech/" itemprop="url" rel="index"><span itemprop="name">tech</span></a> </span></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-comment"></i> </span><span class="post-meta-item-text">Waline：</span> <a title="waline" href="/build-a-personal-blog-based-on-hexo-and-github-pages/#waline" itemprop="discussionUrl"><span class="post-comments-count waline-comment-count" data-path="/build-a-personal-blog-based-on-hexo-and-github-pages/" itemprop="commentCount"></span></a></span></div></div></header><div class="post-body" itemprop="articleBody"><h2 id="必读文档"><a href="#必读文档" class="headerlink" title="必读文档"></a>必读文档</h2><ul><li><span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlvL3poLWNuLw==">Hexo 官方文档<i class="fa fa-external-link-alt"></i></span></li><li><span class="exturl" data-url="aHR0cHM6Ly90aGVtZS1uZXh0LmpzLm9yZy8=">NexT 官方文档<i class="fa fa-external-link-alt"></i></span></li></ul><span id="more"></span><h2 id="本地环境准备"><a href="#本地环境准备" class="headerlink" title="本地环境准备"></a>本地环境准备</h2><h3 id="安装-Node-js"><a href="#安装-Node-js" class="headerlink" title="安装 Node.js"></a>安装 Node.js</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 12.x 代表版本号</span></span><br><span class="line">curl -sL https://deb.nodesource.com/setup_12.x | sudo -E bash -</span><br><span class="line"></span><br><span class="line">sudo apt install nodejs</span><br></pre></td></tr></table></figure><h3 id="安装-Hexo"><a href="#安装-Hexo" class="headerlink" title="安装 Hexo"></a>安装 Hexo</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo npm install -g hexo</span><br></pre></td></tr></table></figure><h3 id="建站"><a href="#建站" class="headerlink" title="建站"></a>建站</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo init &lt;folder&gt;</span><br><span class="line"><span class="built_in">cd</span> &lt;folder&gt;</span><br></pre></td></tr></table></figure><p>搭建完成后，目录结构如下:</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">.</span><br><span class="line">├── _config.landscape.yml   # landscape 主题配置文件， Hexo 的默认主题。</span><br><span class="line">├── _config.yml             # Hexo 站点配置文件。</span><br><span class="line">├── db.json</span><br><span class="line">├── node_modules</span><br><span class="line">├── package-lock.json</span><br><span class="line">├── package.json            # 第三方依赖</span><br><span class="line">├── scaffolds               # 模版 文件夹，新建文章时，Hexo 会根据 scaffold 来建立文件。</span><br><span class="line">├── source                  # 存放用户资源的地方</span><br><span class="line">└── themes                  # 主题文件夹，存放第三方主题的地方。</span><br></pre></td></tr></table></figure><blockquote><p>在 Hexo 5.0.0 版本后，可以使用独立的 _config.[theme].yml 来代替 themes 下的主题，官方称为<span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlvL3poLWNuL2RvY3MvY29uZmlndXJhdGlvbi5odG1sIyVFNCVCRCVCRiVFNyU5NCVBOCVFNCVCQiVBMyVFNiU5QiVCRiVFOSU4NSU4RCVFNyVCRCVBRSVFNiU5NiU4NyVFNCVCQiVCNg==">代替配置文件<i class="fa fa-external-link-alt"></i></span>。</p></blockquote><p>现在可以使用 <code>hexo s</code> 命令启动本地 Hexo 服务器，默认地址 <span class="exturl" data-url="aHR0cDovL2xvY2FsaG9zdDo0MDAwLw==">http://localhost:4000<i class="fa fa-external-link-alt"></i></span> 。</p><h2 id="使用-NexT-主题"><a href="#使用-NexT-主题" class="headerlink" title="使用 NexT 主题"></a>使用 NexT 主题</h2><h3 id="安装-NexT-主题"><a href="#安装-NexT-主题" class="headerlink" title="安装 NexT 主题"></a>安装 NexT 主题</h3><ul><li>使用 <code>npm</code> (推荐)</li></ul><div class="tabs" id="use-npm"><ul class="nav-tabs"><li class="tab active"><a href="#use-npm-1">使用 Latest 版本</a></li><li class="tab"><a href="#use-npm-2">指定版本</a></li></ul><div class="tab-content"><div class="tab-pane active" id="use-npm-1"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo npm install hexo-theme-next@latest</span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="use-npm-2"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo npm install hexo-theme-next@8.0.0</span><br></pre></td></tr></table></figure></div></div></div><ul><li>使用 <code>git</code></li></ul><div class="tabs" id="use-git"><ul class="nav-tabs"><li class="tab active"><a href="#use-git-1">使用 Latest 分支</a></li><li class="tab"><a href="#use-git-2">指定版本</a></li></ul><div class="tab-content"><div class="tab-pane active" id="use-git-1"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/next-theme/hexo-theme-next themes/next</span><br></pre></td></tr></table></figure><p>或者从 GitLab 下载</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://gitlab.com/hexo-theme-next/hexo-theme-next themes/next</span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="use-git-2"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> --branch v8.0.0 https://github.com/next-theme/hexo-theme-next themes/next</span><br></pre></td></tr></table></figure><p>或者从 GitLab 下载</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> --branch v8.0.0 https://gitlab.com/hexo-theme-next/hexo-theme-next themes/next</span><br></pre></td></tr></table></figure></div></div></div><h3 id="使用-NexT-主题-1"><a href="#使用-NexT-主题-1" class="headerlink" title="使用 NexT 主题"></a>使用 NexT 主题</h3><p>在站点配置文件 <code>_config.yml</code> 中，设置如下：</p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment">## Themes: https://hexo.io/themes/</span></span><br><span class="line"><span class="attr">theme:</span> <span class="string">next</span></span><br></pre></td></tr></table></figure><p>现在使用 <code>hexo clean &amp;&amp; hexo g &amp;&amp; hexo s</code> 命令重新启动本地 Hexo 服务器，打开默认地址 <span class="exturl" data-url="aHR0cDovL2xvY2FsaG9zdDo0MDAw77yM5bCx5Lya55yL5Yiw">http://localhost:4000，就会看到<i class="fa fa-external-link-alt"></i></span> NexT 主题了。</p><h3 id="代替配置文件-Alternate-Config-配置-Hexo-主题"><a href="#代替配置文件-Alternate-Config-配置-Hexo-主题" class="headerlink" title="代替配置文件(Alternate Config) 配置 Hexo 主题"></a>代替配置文件(Alternate Config) 配置 Hexo 主题</h3><p>使用<span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlvL3poLWNuL2RvY3MvY29uZmlndXJhdGlvbi5odG1sIyVFNCVCRCVCRiVFNyU5NCVBOCVFNCVCQiVBMyVFNiU5QiVCRiVFOSU4NSU4RCVFNyVCRCVBRSVFNiU5NiU4NyVFNCVCQiVCNg==">代替配置文件(Alternate Config)<i class="fa fa-external-link-alt"></i></span> 配置 Hexo 主题。这也是 <span class="exturl" data-url="aHR0cHM6Ly90aGVtZS1uZXh0LmpzLm9yZy9kb2NzL2dldHRpbmctc3RhcnRlZC9jb25maWd1cmF0aW9uLmh0bWw=">Next 文档<i class="fa fa-external-link-alt"></i></span>推荐的配置方式。</p><blockquote><p>注意 Hexo 版本应该 &gt;&#x3D; 5.0.0 。<br>需要在使用 <a href="/build-a-personal-blog-based-on-hexo-and-github-pages/#%E5%AE%89%E8%A3%85-NexT-%E4%B8%BB%E9%A2%98">npm 安装 NexT</a> 。</p></blockquote><h4 id="新建-config-theme-yml-文件"><a href="#新建-config-theme-yml-文件" class="headerlink" title="新建 _config.[theme].yml 文件"></a>新建 _config.[theme].yml 文件</h4><p>首先在站点根目录下新建 <code>_config.next.yml</code> 文件， <code>next</code> 表示使用的 Hexo 主题是 <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL25leHQtdGhlbWUvaGV4by10aGVtZS1uZXh0">next-themes<i class="fa fa-external-link-alt"></i></span>。</p><h4 id="拷贝-NexT-配置"><a href="#拷贝-NexT-配置" class="headerlink" title="拷贝 NexT 配置"></a>拷贝 NexT 配置</h4><p>在<strong>站点根目录</strong>下，使用以下命令拷贝 NexT 配置（或者去 <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL25leHQtdGhlbWUvaGV4by10aGVtZS1uZXh0L2Jsb2IvbWFzdGVyL19jb25maWcueW1s">GitHub<i class="fa fa-external-link-alt"></i></span> 上拷贝也可以）。</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cp</span> node_modules/hexo-theme-next/_config.yml _config.next.yml</span><br></pre></td></tr></table></figure><p>同样的，在使用 <code>hexo clean &amp;&amp; hexo g &amp;&amp; hexo s</code> 命令重新启动本地 Hexo 服务器，打开默认地址 <span class="exturl" data-url="aHR0cDovL2xvY2FsaG9zdDo0MDAw77yM5Y2z5Y+v55yL5Yiw">http://localhost:4000，即可看到<i class="fa fa-external-link-alt"></i></span> NexT 主题。</p><h2 id="部署"><a href="#部署" class="headerlink" title="部署"></a>部署</h2><h3 id="部署到-GitHub-Pages"><a href="#部署到-GitHub-Pages" class="headerlink" title="部署到 GitHub Pages"></a>部署到 GitHub Pages</h3><p>准备:</p><ul><li>一个和 GitHub 用户名同名的 yingming006.github.io 的公开仓库</li><li><span class="exturl" data-url="aHR0cHM6Ly9kb2NzLmdpdGh1Yi5jb20vY24vZnJlZS1wcm8tdGVhbUBsYXRlc3QvZ2l0aHViL2F1dGhlbnRpY2F0aW5nLXRvLWdpdGh1Yi9hZGRpbmctYS1uZXctc3NoLWtleS10by15b3VyLWdpdGh1Yi1hY2NvdW50">新增 SSH 密钥到 GitHub 帐户<i class="fa fa-external-link-alt"></i></span></li></ul><h4 id="安装-hexo-deployer-git"><a href="#安装-hexo-deployer-git" class="headerlink" title="安装 hexo-deployer-git"></a>安装 <code>hexo-deployer-git</code></h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure><h4 id="配置-config-yml"><a href="#配置-config-yml" class="headerlink" title="配置 _config.yml"></a>配置 <code>_config.yml</code></h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repository: git@github.com:yingming006/yingming006.github.io.git</span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure><h4 id="发布"><a href="#发布" class="headerlink" title="发布"></a>发布</h4><p>运行命令 <code>hexo d</code> 即可发布到 GitHub Pages 上，稍等一会儿即可通过 username.github.io 访问。</p><h3 id="部署到个人服务器"><a href="#部署到个人服务器" class="headerlink" title="部署到个人服务器"></a>部署到个人服务器</h3><h4 id="配置-Nginx"><a href="#配置-Nginx" class="headerlink" title="配置 Nginx"></a>配置 Nginx</h4><p>因为 <code>Hexo</code> 是静态博客，所以只需要 <code>Nginx</code> 即可。</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt install nginx</span><br></pre></td></tr></table></figure><p>安装完成后，打开网页看到的会是<code>Nginx</code>的欢迎页面。</p><blockquote><p>如果没有显示，尝试配置安全组，开放 80 端口，或者运行命令 <code>sudo systemctl restart nginx</code> 重启 Nginx 服务</p></blockquote><p>Nginx 默认站点指向了 <code>/var/www/html</code> 目录下的 <code>index.nginx-debian.html</code>，我们的目标是让 Nginx 指向博客站点目录下的 <code>index.html</code>。</p><ul><li>首先在 <code>/var/www/html</code> 文件夹下创建存放博客源文件的目录：<code>/var/www/yingming006.cn</code>;</li><li>在 <code>/etc/nginx/sites-available</code> 文件夹下创建 <code>Nginx</code> 的配置文件：<code>yingming006.cn</code></li><li>创建软连接 <code>/etc/nginx/sites-enabled/yingming006.cn</code></li><li>删除<code>/etc/nginx/sites-enabled/default</code> 文件并重新启动 <code>Nginx</code> 即可。</li></ul><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo <span class="built_in">mkdir</span> -p /var/www/yingming006.cn</span><br><span class="line">sudo <span class="built_in">touch</span> /etc/nginx/sites-available/yingming006.cn</span><br><span class="line">sudo <span class="built_in">ln</span> -s /etc/nginx/sites-available/yingming006.cn /etc/nginx/sites-enabled/yingming006.cn</span><br><span class="line">sudo <span class="built_in">rm</span> /etc/nginx/sites-enabled/default</span><br><span class="line">sudo systemctl restart nginx</span><br></pre></td></tr></table></figure><p><code>/etc/nginx/sites-available/yingming006.cn</code> 配置文件参考<code>default</code>内容修改如下：</p><figure class="highlight txt"><figcaption><span>/etc/nginx/sites-available/yingming006.cn</span></figcaption><table><tr><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    listen 80;</span><br><span class="line">    server_name yingming006.cn;</span><br><span class="line"></span><br><span class="line">    root /var/www/yingming006.cn;</span><br><span class="line"></span><br><span class="line">    index index.html index.htm;</span><br><span class="line"></span><br><span class="line">    location / &#123;</span><br><span class="line">	    try_files $uri $uri/ =404;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="配置-Git"><a href="#配置-Git" class="headerlink" title="配置 Git"></a>配置 Git</h4><p>网站的源文件通过<code>Git</code>进行版本管理，每一次更新源文件之后，可以通过<code>Git</code>的<code>hook</code>操作自动更新到<code>/var/www/yingming006.cn</code>的目录下。因此，我们需要在服务器上面搭建一个自己的<code>Git</code>服务器，具体的操作如下：</p><ul><li><p>创建<code>Git</code>用户，并且授予其sudo权限</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo adduser git</span><br><span class="line">sudo usermod -aG sudo git</span><br></pre></td></tr></table></figure></li><li><p>以 <code>Git</code> 用户重新登录服务器，在 <code>/home/git</code> 文件夹下创建 <code>repositories</code> 目录，专门用作<code>Git</code>服务器放置repo的地方。</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git@computer_name:~$ git init --bare repositories/hexo-blog.git</span><br><span class="line">Initialized empty Git repository in /home/git/repositories/hexo-blog.git/</span><br></pre></td></tr></table></figure></li><li><p>之后就可以在本地把刚刚创建好的 <code>hexo-blog</code> 克隆下来，为了避免每次验证需要输入密码，可以使用命令 :</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ssh-copy-id git@yingming006.cn</span><br><span class="line"></span><br><span class="line">git <span class="built_in">clone</span> git@yingming006.cn:/home/git/repositories/hexo-blog.git</span><br></pre></td></tr></table></figure></li><li><p>使用 <code>Git</code> 的 <code>hook</code>，创建文件：<code>touch /home/git/repositories/hexo-blog.git/hooks/post-receive</code> ，添加以下内容：</p><figure class="highlight txt"><figcaption><span>post-receive</span></figcaption><table><tr><td class="code"><pre><span class="line">git --work-tree=/var/www/houmin.cc --git-dir=/home/git/repositories/blog.git checkout -f</span><br></pre></td></tr></table></figure><p>赋予执行权限：<code>chmod +x /home/git/repositories/hexo-blog.git/hooks/post-receive</code></p><p>关联<code>git</code>用户：<code>sudo chown -R git:git /var/www/yingming006.cn</code></p></li></ul><p>经过上述操作，当 <code>hexo-blog</code> 更新时，就会自动复制到 <code>/var/www/yingming006.cn</code> 文件夹下。</p><p>现在，重新访问下 <code>yingming006.cn</code>，如果没有出错的话，就可以看到博客了。</p><h2 id="NexT-主题配置"><a href="#NexT-主题配置" class="headerlink" title="NexT 主题配置"></a>NexT 主题配置</h2><h3 id="侧边栏-Sidebar"><a href="#侧边栏-Sidebar" class="headerlink" title="侧边栏 Sidebar"></a>侧边栏 Sidebar</h3><div class="tabs" id="position"><ul class="nav-tabs"><li class="tab active"><a href="#position-1">position</a></li><li class="tab"><a href="#position-2">width</a></li><li class="tab"><a href="#position-3">display</a></li></ul><div class="tab-content"><div class="tab-pane active" id="position-1"><p>设定侧边栏的位置，左侧或者右侧。</p><figure class="highlight yml"><figcaption><span>_config.next.yml</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="attr">sidebar:</span></span><br><span class="line">  <span class="attr">position:</span> <span class="string">left</span></span><br><span class="line">  <span class="comment">#position: right</span></span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="position-2"><figure class="highlight yml"><figcaption><span>_config.next.yml</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="attr">sidebar:</span></span><br><span class="line">  <span class="comment"># width: 300</span></span><br></pre></td></tr></table></figure><div class="note info"><p>各模式默认宽度如下：</p><ul><li>Muse | Mist : 320</li><li>Pisces | Gemini : 240</li></ul></div></div><div class="tab-pane" id="position-3"><p>显示侧边栏的条件:</p><figure class="highlight yml"><figcaption><span>_config.next.yml</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="attr">sidebar:</span></span><br><span class="line">  <span class="attr">display:</span> <span class="string">post</span>     <span class="comment"># 仅在具有索引的文章中显示侧边栏</span></span><br><span class="line">  <span class="comment">#display: always  # 所有页面都显示侧边栏</span></span><br><span class="line">  <span class="comment">#display: hide    # 默认隐藏侧边栏，但是可以点击开启</span></span><br><span class="line">  <span class="comment">#display: remove  # 删除侧边栏</span></span><br></pre></td></tr></table></figure></div></div></div><h4 id="头像-Avatar"><a href="#头像-Avatar" class="headerlink" title="头像 Avatar"></a>头像 Avatar</h4><figure class="highlight yml"><figcaption><span>_config.next.yml</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="attr">avatar:</span></span><br><span class="line">  <span class="attr">url:</span> <span class="string">/images/avatar.gif</span>   <span class="comment"># 根目录的 source 文件夹下（主题目录的 source 文件夹下）</span></span><br><span class="line">  <span class="attr">rounded:</span> <span class="literal">true</span>             <span class="comment"># 圆形头像</span></span><br><span class="line">  <span class="attr">rotated:</span> <span class="literal">true</span>             <span class="comment"># 当鼠标滑过时头像旋转</span></span><br></pre></td></tr></table></figure><h4 id="社交链接"><a href="#社交链接" class="headerlink" title="社交链接"></a>社交链接</h4><p>严格遵循 <code>Key: /link/ || icon</code> 格式，icon 可以去 <span class="exturl" data-url="aHR0cHM6Ly9mb250YXdlc29tZS5jb20v">Font Awesome<i class="fa fa-external-link-alt"></i></span> 寻找。</p><figure class="highlight yml"><figcaption><span>_config.next.yml</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="attr">social:</span></span><br><span class="line">  <span class="attr">GitHub:</span> <span class="string">https://github.com/yourname</span> <span class="string">||</span> <span class="string">fab</span> <span class="string">fa-github</span></span><br><span class="line">  <span class="attr">E-Mail:</span> <span class="string">mailto:yourname@gmail.com</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-envelope</span></span><br><span class="line"></span><br><span class="line"><span class="attr">social_icons:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span>        <span class="comment"># 显示 icon</span></span><br><span class="line">  <span class="attr">icons_only:</span> <span class="literal">true</span>    <span class="comment"># 只显示 icon</span></span><br><span class="line">  <span class="attr">transition:</span> <span class="literal">false</span>   </span><br></pre></td></tr></table></figure><h4 id="友情链接-Blogrolls"><a href="#友情链接-Blogrolls" class="headerlink" title="友情链接 Blogrolls"></a>友情链接 Blogrolls</h4><figure class="highlight yml"><figcaption><span>_config.next.yml</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="attr">links_settings:</span></span><br><span class="line">  <span class="attr">icon:</span> <span class="string">fa</span> <span class="string">fa-globe</span></span><br><span class="line">  <span class="attr">title:</span> <span class="string">友情链接</span>     <span class="comment"># 标题</span></span><br><span class="line">  <span class="comment"># Available values: block | inline</span></span><br><span class="line">  <span class="attr">layout:</span> <span class="string">block</span></span><br><span class="line"></span><br><span class="line"><span class="attr">links:</span></span><br><span class="line">  <span class="attr">Title:</span> <span class="string">https://example.com</span></span><br><span class="line">  <span class="attr">Title2:</span> <span class="string">https://example2.com</span></span><br></pre></td></tr></table></figure><h4 id="大纲目录-TOC"><a href="#大纲目录-TOC" class="headerlink" title="大纲目录 TOC"></a>大纲目录 TOC</h4><figure class="highlight yml"><figcaption><span>_config.next.yml</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="attr">toc:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># 自动添加序号</span></span><br><span class="line">  <span class="attr">number:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># 自动换行</span></span><br><span class="line">  <span class="attr">wrap:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># 是否全部展开，值为 false 的时候只显示当前所在位置</span></span><br><span class="line">  <span class="attr">expand_all:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># 最大层级深度</span></span><br><span class="line">  <span class="attr">max_depth:</span> <span class="number">6</span></span><br></pre></td></tr></table></figure><h3 id="文章-Posts"><a href="#文章-Posts" class="headerlink" title="文章 Posts"></a>文章 Posts</h3><h4 id="预览-Preamble-Text"><a href="#预览-Preamble-Text" class="headerlink" title="预览 Preamble Text"></a>预览 Preamble Text</h4><p>NexT 会在文章标记 <code>&lt;!-- more --&gt;</code> 的位截断，以次来控制预览内容。</p><h4 id="文章显示标记-Post-Meta-Display"><a href="#文章显示标记-Post-Meta-Display" class="headerlink" title="文章显示标记 Post Meta Display"></a>文章显示标记 Post Meta Display</h4><p>NexT 默认支持文章的创建日期、更新日期、和文章分类显示。</p><blockquote><p>如果想要文章禁止显示标记信息，需要设置</p></blockquote><figure class="highlight yml"><figcaption><span>_config.next.yml</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="attr">post_meta:</span></span><br><span class="line">  <span class="attr">item_text:</span> <span class="literal">true</span>       <span class="comment"># 设置为 false 可以禁用标记信息</span></span><br><span class="line">  <span class="attr">created_at:</span> <span class="literal">true</span>      </span><br><span class="line">  <span class="attr">updated_at:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span>        <span class="comment"># 开启更新时间，需要设置站点根目录下 _config.yml 的 use_date_for_updated 格式 https://hexo.io/docs/configuration#Date-Time-format</span></span><br><span class="line">    <span class="attr">another_day:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">categories:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>开启 <code>post_meta.updated_at</code> 选项，需要设置站点根目录下 _config.yml 的 use_date_for_updated 格式，<span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlvL2RvY3MvY29uZmlndXJhdGlvbiNEYXRlLVRpbWUtZm9ybWF0">https://hexo.io/docs/configuration#Date-Time-format<i class="fa fa-external-link-alt"></i></span></p><p>如果 <code>post_meta.another_day</code> 设置为 <code>true</code>，当创建时间和更新时间在同一天的时候，不显示更新时。</p><h4 id="文章字数统计-Post-Wordcount"><a href="#文章字数统计-Post-Wordcount" class="headerlink" title="文章字数统计 Post Wordcount"></a>文章字数统计 Post Wordcount</h4><p>首先需要在站点根目录下安装 <code>hexo-word-counter</code>:</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install hexo-word-counter</span><br></pre></td></tr></table></figure><h4 id="相关热门文章-Related-Popular-Posts"><a href="#相关热门文章-Related-Popular-Posts" class="headerlink" title="相关热门文章 Related Popular Posts"></a>相关热门文章 Related Popular Posts</h4><p>安装 <code>hexo-related-popular-posts</code> : <code>npm install hexo-related-popular-posts</code></p><figure class="highlight yml"><figcaption><span>_config.next.yml</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="attr">related_posts:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">title:</span>                  <span class="comment"># 自定义标题，保留为空以使用默认标题</span></span><br><span class="line">  <span class="attr">display_in_home:</span> <span class="literal">false</span>  <span class="comment"># 首页显示</span></span><br><span class="line">  <span class="attr">params:</span></span><br><span class="line">    <span class="attr">maxCount:</span> <span class="number">5</span>           <span class="comment"># 最大相关文章数目</span></span><br><span class="line">    <span class="comment">#PPMixingRate: 0.0    # 热门文章和相关文章的混合比例</span></span><br><span class="line">    <span class="comment">#isDate: false        # 设置为 ture 表示显示文章日期</span></span><br><span class="line">    <span class="comment">#isImage: false       # 设置为 ture 表示显示文章缩略图</span></span><br><span class="line">    <span class="comment">#isExcerpt: false     # 设置为 ture 表示显示文章摘要</span></span><br></pre></td></tr></table></figure><h4 id="在线编辑-Post-Edit"><a href="#在线编辑-Post-Edit" class="headerlink" title="在线编辑 Post Edit"></a>在线编辑 Post Edit</h4><p>开启 <code>post_edit</code> 选项可以事项在线编辑文章功能（跳转到GitHub的博客源代码）</p><figure class="highlight yml"><figcaption><span>_config.next.yml</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="attr">post_edit:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">url:</span> <span class="string">https://github.com/user-name/repo-name/edit/master/source/</span> <span class="comment"># 补充上 url 即可实现在线编辑文章功能</span></span><br></pre></td></tr></table></figure><h3 id="自定义页面-Custom-Pages"><a href="#自定义页面-Custom-Pages" class="headerlink" title="自定义页面 Custom Pages"></a>自定义页面 Custom Pages</h3><h4 id="创建-标签"><a href="#创建-标签" class="headerlink" title="创建 标签"></a>创建 标签</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">heox new page tags</span><br></pre></td></tr></table></figure><p>编辑 <code>source/tags/index.md</code></p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">title: tags</span><br><span class="line">date: 2020-04-01 00:30:50</span><br><span class="line">type: tags</span><br><span class="line">---</span><br></pre></td></tr></table></figure><p>添加到菜单栏</p><figure class="highlight yml"><figcaption><span>_config.next.yml</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="attr">menu:</span></span><br><span class="line">  <span class="attr">home:</span> <span class="string">/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-home</span></span><br><span class="line">  <span class="attr">archives:</span> <span class="string">/archives/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-archive</span></span><br><span class="line">  <span class="attr">tags:</span> <span class="string">/tags/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-tags</span></span><br></pre></td></tr></table></figure><p>使用标签，新建一篇测试文章</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo new <span class="built_in">test</span></span><br></pre></td></tr></table></figure><p>编辑 <code>source/_post/test.md</code></p><div class="tabs" id="tags"><ul class="nav-tabs"><li class="tab active"><a href="#tags-1">格式1</a></li><li class="tab"><a href="#tags-2">格式2</a></li></ul><div class="tab-content"><div class="tab-pane active" id="tags-1"><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">title: test</span><br><span class="line">tags:</span><br><span class="line">- tag1</span><br><span class="line">- tag2</span><br><span class="line">---</span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="tags-2"><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">title: test</span><br><span class="line">tags: [Testing, Another Tag]</span><br><span class="line">---</span><br></pre></td></tr></table></figure></div></div></div><blockquote><p><strong>注意缩进</strong></p></blockquote><h4 id="公益-404-页面"><a href="#公益-404-页面" class="headerlink" title="公益 404 页面"></a>公益 404 页面</h4><p>在站点根目录下新建 404 页面</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo new page 404</span><br></pre></td></tr></table></figure><p>编辑 <code>_posts/404/index.md</code></p><figure class="highlight md"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: &#x27;404&#x27;</span><br><span class="line"><span class="section">comments: false</span></span><br><span class="line"><span class="section">---</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;//qzonestyle.gtimg.cn/qzone/hybrid/app/404/search_children.js&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span> <span class="attr">homePageUrl</span>=<span class="string">&quot;/&quot;</span> <span class="attr">homePageName</span>=<span class="string">&quot;Back to home&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p>添加 公益 404 页面到菜单栏</p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">menu:</span></span><br><span class="line">  <span class="attr">home:</span> <span class="string">/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-home</span></span><br><span class="line">  <span class="attr">archives:</span> <span class="string">/archives/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-archive</span></span><br><span class="line">  <span class="attr">commonweal:</span> <span class="string">/404/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-heartbeat</span></span><br></pre></td></tr></table></figure><h3 id="SEO"><a href="#SEO" class="headerlink" title="SEO"></a>SEO</h3><h4 id="谷歌收录"><a href="#谷歌收录" class="headerlink" title="谷歌收录"></a>谷歌收录</h4><h5 id="1-添加资源"><a href="#1-添加资源" class="headerlink" title="1. 添加资源"></a>1. 添加资源</h5><p>打开 <span class="exturl" data-url="aHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS93ZWJtYXN0ZXJz">Google Webmaster<i class="fa fa-external-link-alt"></i></span>，登录，添加资源，选择<em>网址前缀</em>输入博客地址；</p><p>之后是验证所有权，推荐 <em>HTML 标记</em> 验证：</p><ul><li>复制 meta 标签中的 <code>content</code> 值，添加到<code>Next Config</code> 中的<code>google_site_verification</code> 即可。</li></ul><h5 id="2-提交-sitemap-xml"><a href="#2-提交-sitemap-xml" class="headerlink" title="2.提交 sitemap.xml"></a>2.提交 sitemap.xml</h5><p>首先安装插件 <code>hexo-generator-sitemap</code></p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install hexo-generator-sitemap --save</span><br></pre></td></tr></table></figure><p>然后运行命令 <code>hexo clean &amp;&amp; hexo g &amp;&amp; hexo d</code> 生成站点地图，并上传到博客，之后就可以通过 <code>https://your-blog-url/sitemap.xml</code> 访问到站点地图。</p><p>在刚刚的网站左侧点击站点地图，输入站点地图网址 <code>https://your-blog-url/sitemap.xml</code>，提交即可。</p><h4 id="百度收录"><a href="#百度收录" class="headerlink" title="百度收录"></a>百度收录</h4><h5 id="1-添加资源-1"><a href="#1-添加资源-1" class="headerlink" title="1. 添加资源"></a>1. 添加资源</h5><p>打开<span class="exturl" data-url="aHR0cHM6Ly96aXl1YW4uYmFpZHUuY29tL3NpdGU=">Baidu Webmaster<i class="fa fa-external-link-alt"></i></span>，登录，点击<code>添加网站</code>，按步骤选择，在验证网址时选择<code>HTML 标签验证</code>，复制 <code>meta</code> 标签中的 <code>content</code> 值，添加到<code>Next Config</code> 中的<code>baidu_site_verification</code> 即可。</p><h5 id="2-提交-sitemap-xml-1"><a href="#2-提交-sitemap-xml-1" class="headerlink" title="2.提交 sitemap.xml"></a>2.提交 sitemap.xml</h5><p>在网站左侧点击<code>链接提交</code>，选择<code>sitmap</code>提交，输入站点地图网址 <code>https://your-blog-url/sitemap.xml</code>即可。</p><h3 id="Other-Webmaster"><a href="#Other-Webmaster" class="headerlink" title="Other Webmaster"></a>Other Webmaster</h3><p><span class="exturl" data-url="aHR0cHM6Ly90aGVtZS1uZXh0LmpzLm9yZy9kb2NzL3RoZW1lLXNldHRpbmdzL3Nlby5odG1sI1dlYm1hc3Rlci1Ub29scw==">https://theme-next.js.org/docs/theme-settings/seo.html#Webmaster-Tools<i class="fa fa-external-link-alt"></i></span></p><h2 id="第三方服务"><a href="#第三方服务" class="headerlink" title="第三方服务"></a>第三方服务</h2><h3 id="评论系统"><a href="#评论系统" class="headerlink" title="评论系统"></a>评论系统</h3><h4 id="waline"><a href="#waline" class="headerlink" title="waline"></a>waline</h4><p><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3dhbGluZWpzL3dhbGluZS90cmVlL21haW4vcGFja2FnZXMvaGV4by1uZXh0">https://github.com/walinejs/waline/tree/main/packages/hexo-next<i class="fa fa-external-link-alt"></i></span></p><h5 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h5><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install @waline/hexo-next</span><br></pre></td></tr></table></figure><h5 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h5><p><span class="exturl" data-url="aHR0cHM6Ly93YWxpbmUuanMub3JnL2d1aWRlL2dldC1zdGFydGVkLmh0bWw=">https://waline.js.org/guide/get-started.html<i class="fa fa-external-link-alt"></i></span></p><p>需要用到 <code>LeanCloud</code> 和 <code>Vercel</code></p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Waline Config File</span></span><br><span class="line"><span class="comment"># For more information:</span></span><br><span class="line"><span class="comment"># - https://waline.js.org</span></span><br><span class="line"><span class="comment"># - https://waline.js.org/reference/component.html</span></span><br><span class="line"><span class="attr">waline:</span></span><br><span class="line">  <span class="comment"># New! Whether enable this plugin</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Waline server address url, you should set this to your own link</span></span><br><span class="line">  <span class="attr">serverURL:</span> <span class="string">https://waline.vercel.app</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Waline library CDN url, you can set this to your preferred CDN</span></span><br><span class="line">  <span class="comment"># libUrl: https://unpkg.com/@waline/client@v2/dist/waline.js</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Waline CSS styles CDN url, you can set this to your preferred CDN</span></span><br><span class="line">  <span class="attr">cssUrl:</span> <span class="string">https://unpkg.com/@waline/client@v2/dist/waline.css</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Custom locales</span></span><br><span class="line">  <span class="comment"># locale:</span></span><br><span class="line">  <span class="comment">#   placeholder: Welcome to comment # Comment box placeholder</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># If false, comment count will only be displayed in post page, not in home page</span></span><br><span class="line">  <span class="attr">commentCount:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Pageviews count, <span class="doctag">Note:</span> You should not enable both `waline.pageview` and `leancloud_visitors`.</span></span><br><span class="line">  <span class="attr">pageview:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Custom emoji</span></span><br><span class="line">  <span class="comment"># emoji:</span></span><br><span class="line">  <span class="comment">#   - https://unpkg.com/@waline/emojis@1.1.0/weibo</span></span><br><span class="line">  <span class="comment">#   - https://unpkg.com/@waline/emojis@1.1.0/alus</span></span><br><span class="line">  <span class="comment">#   - https://unpkg.com/@waline/emojis@1.1.0/bilibili</span></span><br><span class="line">  <span class="comment">#   - https://unpkg.com/@waline/emojis@1.1.0/qq</span></span><br><span class="line">  <span class="comment">#   - https://unpkg.com/@waline/emojis@1.1.0/tieba</span></span><br><span class="line">  <span class="comment">#   - https://unpkg.com/@waline/emojis@1.1.0/tw-emoji</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Comment information, valid meta are nick, mail and link</span></span><br><span class="line">  <span class="comment"># meta:</span></span><br><span class="line">  <span class="comment">#   - nick</span></span><br><span class="line">  <span class="comment">#   - mail</span></span><br><span class="line">  <span class="comment">#   - link</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Set required meta field, e.g.: [nick] | [nick, mail]</span></span><br><span class="line">  <span class="attr">requiredMeta:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">nick</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Language, available values: en-US, zh-CN, zh-TW, pt-BR, ru-RU, jp-JP</span></span><br><span class="line">  <span class="comment"># lang: zh-CN</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Word limit, no limit when setting to 0</span></span><br><span class="line">  <span class="comment"># wordLimit: 0</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Whether enable login, can choose from &#x27;enable&#x27;, &#x27;disable&#x27; and &#x27;force&#x27;</span></span><br><span class="line">  <span class="comment"># login: enable</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># comment per page</span></span><br><span class="line">  <span class="comment"># pageSize: 10</span></span><br></pre></td></tr></table></figure><h3 id="统计与分析"><a href="#统计与分析" class="headerlink" title="统计与分析"></a>统计与分析</h3><h3 id="本地搜索"><a href="#本地搜索" class="headerlink" title="本地搜索"></a>本地搜索</h3></div><div class="popular-posts-header">相关文章</div><ul class="popular-posts"><li class="popular-posts-item"><div class="popular-posts-date">2020-12-15</div><div class="popular-posts-title"><a href="backup-hexo/" rel="bookmark">备份 Hexo 博客(精简版)</a></div><div class="popular-posts-excerpt"><p></p><blockquote><p>备份是一个好习惯。</p></blockquote><p>目前网上绝大多数的 Hexo 博客备份都是在GitHub新建一个备份仓库，修改 <code>.gitignore</code>，每次更新博客的时候<code>git push</code>一下，这样确实方便很多，但是我在浏览 <a target="_blank" rel="noopener" href="https://theme-next.js.org/docs/getting-started/#Configuration">next 官方文档</a>的时候，发现了可以对备份精简的方法，使用代替主题配置文件(<a target="_blank" rel="noopener" href="https://theme-next.js.org/docs/getting-started/configuration.html">Alternate Theme Config</a>)<strong>去掉 themes 文件夹</strong>。</p><blockquote><p>使用此功能需要 Hexo 版本 &gt;&#x3D; 5.0.0。</p></blockquote><p></p></div></li><li class="popular-posts-item"><div class="popular-posts-date">2020-11-09</div><div class="popular-posts-title"><a href="sort-algorithm-in-java/" rel="bookmark">排序算法-Java实现</a></div><div class="popular-posts-excerpt"><p></p><h3 id="冒泡排序"><a href="#冒泡排序" class="headerlink" title="冒泡排序"></a>冒泡排序</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">sort</span><span class="params">(<span class="type">int</span>[] array)</span> &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> array.length - <span class="number">1</span>; i &gt; <span class="number">0</span>; i--) &#123;</span><br><span class="line">        <span class="type">boolean</span> <span class="variable">swapped</span> <span class="operator">=</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j + <span class="number">1</span> &lt;= i; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (array[j] &gt; array[j + <span class="number">1</span>]) &#123;</span><br><span class="line">                swap(array, j, j + <span class="number">1</span>);</span><br><span class="line">                swapped = <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (!swapped) &#123;</span><br><span class="line">            <span class="comment">// 本轮没有替换, 提前结束</span></span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="选择排序"><a href="#选择排序" class="headerlink" title="选择排序"></a>选择排序</h2><p></p></div></li><li class="popular-posts-item"><div class="popular-posts-date">2021-03-30</div><div class="popular-posts-title"><a href="support-https-with-let-s-encrypt/" rel="bookmark">启用 HTTPS</a></div><div class="popular-posts-excerpt"><p></p><blockquote><p>Let’s Encrypt 是<strong>免费</strong>、<strong>开放</strong>和<strong>自动化</strong>的证书颁发机构。由非盈利组织互联网安全研究小组（ISRG）运营。</p></blockquote><h2 id="准备环境"><a href="#准备环境" class="headerlink" title="准备环境"></a>准备环境</h2><ul><li>一个解析正常域名</li><li>服务器安装 Nginx</li><li>开放 80 和 443 端口</li></ul><h2 id="安装-Cerbot"><a href="#安装-Cerbot" class="headerlink" title="安装 Cerbot"></a>安装 Cerbot</h2><blockquote><p>Certbot 是一个免费的开源软件工具，可用于在手动管理的网站上自动使用 Let’s Encrypt 证书来启用 HTTPS。</p></blockquote><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt update</span><br><span class="line">sudo apt install certbot</span><br></pre></td></tr></table></figure><p></p></div></li><li class="popular-posts-item"><div class="popular-posts-date">2020-09-07</div><div class="popular-posts-title"><a href="install-software-in-ubuntu/" rel="bookmark">在Ubuntu系统中安装常用软件</a></div><div class="popular-posts-excerpt"><p></p><blockquote><p>在进行软件安装命令<code>apt</code>前，尽可能的进行一次更新操作：</p><p><code>sudo apt update</code></p></blockquote><h3 id="Java"><a href="#Java" class="headerlink" title="Java"></a>Java</h3><blockquote><p>2020年9月7日更新</p></blockquote><ul><li><p>安装（默认 JDK-11）</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt install default-jdk</span><br><span class="line"></span><br><span class="line"><span class="comment"># 如果只需要Java运行环境，那么可以只安装JRE</span></span><br><span class="line">sudo apt install default-jre</span><br></pre></td></tr></table></figure></li></ul><p></p></div></li><li class="popular-posts-item"><div class="popular-posts-date">2020-09-06</div><div class="popular-posts-title"><a href="change-ubuntu-repository-mirror-sources/" rel="bookmark">更换 Ubuntu 镜像源</a></div><div class="popular-posts-excerpt"><p></p><ul><li>备份 <code>/etc/apt/sources.list</code> 文件</li></ul><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo <span class="built_in">cp</span> /etc/apt/sources.list /etc/apt/sources.list.bak </span><br></pre></td></tr></table></figure><ul><li>修改 <code>/etc/apt/sources.list</code> 文件</li></ul><p>替换为阿里源，将<code>http://archive.ubuntu.com</code>和<code>http://security.ubuntu.com</code>替换成<code>http://mirrors.aliyun.com</code><br>可以参考如下命令：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo sed -i &quot;s@http://.*archive.ubuntu.com@http://mirrors.aliyun.com@g&quot; /etc/apt/sources.list</span><br><span class="line">sudo sed -i &quot;s@http://.*security.ubuntu.com@http://mirrors.aliyun.com@g&quot; /etc/apt/sources.list</span><br></pre></td></tr></table></figure><ul><li>更新软件源索引</li></ul><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt-get update</span><br></pre></td></tr></table></figure><p></p></div></li></ul><footer class="post-footer"><div class="post-tags"><a href="/tags/Hexo/" rel="tag"><i class="fa fa-tag"></i> Hexo</a></div><div class="post-nav"><div class="post-nav-item"><a href="/wsl2-error-the-attempted-operation-is-not-supported-for-the-type-of-object-referenced/" rel="prev" title="启动 WSL 2时警告“参考的对象类型不支持尝试的操作”"><i class="fa fa-chevron-left"></i> 启动 WSL 2时警告“参考的对象类型不支持尝试的操作”</a></div><div class="post-nav-item"><a href="/sayings/" rel="next" title="一句">一句 <i class="fa fa-chevron-right"></i></a></div></div></footer></article></div><div class="comments" id="waline"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright">&copy; 2020 – <span itemprop="copyrightYear">2022</span> <span class="with-love"><i class="fa fa-heart"></i> </span><span class="author" itemprop="copyrightHolder">Yingming</span></div><div class="busuanzi-count"></div><div class="powered-by">由 <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & <span class="exturl" data-url="aHR0cHM6Ly90aGVtZS1uZXh0LmpzLm9yZw==">NexT.Gemini</span> 强力驱动</div></div></footer><script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/lozad.js/1.16.0/lozad.min.js" integrity="sha256-mOFREFhqmHeQbXpK2lp4nA3qooVgACfh88fpJftLBbc=" crossorigin="anonymous"></script><script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.0/search.js" integrity="sha256-vXZMYLEqsROAXkEw93GGIvaB2ab+QW6w3+1ahD9nXXA=" crossorigin="anonymous"></script><script src="/js/third-party/search/local-search.js"></script><script class="next-config" data-name="pdf" type="application/json">{"object_url":{"url":"https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.2.8/pdfobject.min.js","integrity":"sha256-tu9j5pBilBQrWSDePOOajCUdz6hWsid/lBNzK4KgEPM="},"url":"/lib/pdf/web/viewer.html"}</script><script src="/js/third-party/tags/pdf.js"></script><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script class="next-config" data-name="waline" type="application/json">{"lang":"zh-CN","enable":true,"serverURL":"https://waline.yingming006.cn","cssUrl":"https://unpkg.com/@waline/client@v2/dist/waline.css","commentCount":false,"pageview":false,"locale":{"placeholder":"~~填写邮箱可在被回复时收到邮件提醒~~"},"emoji":["https://unpkg.com/@waline/emojis@1.0.1/weibo","https://unpkg.com/@waline/emojis@1.0.1/alus","https://unpkg.com/@waline/emojis@1.0.1/bilibili","https://unpkg.com/@waline/emojis@1.0.1/qq","https://unpkg.com/@waline/emojis@1.0.1/tieba","https://unpkg.com/@waline/emojis@1.0.1/tw-emoji"],"meta":["nick","mail","link"],"requiredMeta":[null],"wordLimit":0,"login":"disable","pageSize":10,"dark":"auto","el":"#waline","comment":true,"libUrl":"//unpkg.com/@waline/client@v2/dist/waline.js","path":"/build-a-personal-blog-based-on-hexo-and-github-pages/"}</script><link rel="stylesheet" href="https://unpkg.com/@waline/client@v2/dist/waline.css"><script>document.addEventListener('page:loaded', () => {
  NexT.utils.loadComments(CONFIG.waline.el).then(() =>
    NexT.utils.getScript(CONFIG.waline.libUrl, { condition: window.Waline })
  ).then(() => 
    Waline.init(Object.assign({}, CONFIG.waline,{ el: document.querySelector(CONFIG.waline.el) }))
  );
});</script></body></html>